<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body>
<header th:fragment="header" style="
  background:#0f172a;color:#e2e8f0;position:sticky;top:0;z-index:1000;
  border-bottom:1px solid #1f2937;padding:.75rem 1.5rem;
  display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:1rem;width:100%;">

    <!-- Brand (trái) -->
    <a th:href="@{/}" class="brand" style="
     justify-self:start;font-weight:700;font-size:1.2rem;
     color:#22c55e;text-decoration:none;white-space:nowrap;">
        Item Trading Platform
    </a>

    <!-- Nav (giữa — luôn chính giữa viewport) -->
    <nav class="nav" style="justify-self:center;display:flex;gap:1.25rem;">
        <a th:href="@{/}" style="color:#cbd5e1;text-decoration:none;font-weight:500;">Trang chủ</a>
        <a th:href="@{/products}" style="color:#cbd5e1;text-decoration:none;font-weight:500;">Sản phẩm</a>
        <a th:href="@{/services}" style="color:#cbd5e1;text-decoration:none;font-weight:500;">Dịch vụ</a>
        <a th:href="@{/support}" style="color:#cbd5e1;text-decoration:none;font-weight:500;">Hỗ trợ</a>
    </nav>

    <!-- Auth (phải) -->
    <!-- Chưa đăng nhập -->
    <div th:if="${session.user == null}" style="justify-self:end;display:flex;gap:.5rem;white-space:nowrap;">
        <a th:href="@{/login}" style="color:#0f172a;background:#22c55e;border-radius:.4rem;
       padding:.4rem .8rem;text-decoration:none;font-weight:600;">Đăng nhập</a>
        <a th:href="@{/register}" style="color:#cbd5e1;border:1px solid #334155;border-radius:.4rem;
       padding:.35rem .75rem;text-decoration:none;">Đăng ký</a>
    </div>

    <!-- Đã đăng nhập -->
    <div th:if="${session.user != null}"
         style="justify-self:end;display:flex;align-items:center;gap:.75rem;white-space:nowrap;">
    <span style="color:#cbd5e1;">
      Xin chào,
      <strong th:text="${session.user.fullName != null ? session.user.fullName : session.user.username}">User</strong>
    </span>
        <a th:href="@{/logout}" style="color:#cbd5e1;border:1px solid #334155;border-radius:.4rem;
       padding:.35rem .75rem;text-decoration:none;">Đăng xuất</a>
        <div class="drop-list">
            <button id="toggleBtn" onclick="menu.hidden^=1">≡</button>
            <ul id="menu" hidden>
                <li class="item">
                    <a th:href="@{/admin/dashboard}"
                                    style="color:#0f172a;background:#22c55e;border-radius:.4rem;
                                    padding:.4rem .8rem;text-decoration:none;font-weight:600;">
                        Dashboard
                    </a>
                </li>
            </ul>
        </div>
    </div>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
        }

        .drop-list {
            position: relative;
            display: inline-block;
            margin: 20px;
        }

        #toggleBtn {
            background-color: #1e3a5f; /* dark blue */
            color: white;
            border: none;
            padding: 10px 15px;
            font-size: 20px;
            cursor: pointer;
            border-radius: 4px;
        }

        #menu {
            position: absolute;
            top: 45px;
            left: 0;
            background-color: #1e3a5f; /* dark blue */
            list-style: none;
            padding: 0;
            margin: 0;
            border-radius: 4px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            width: 150px;
        }

        .item {
            padding: 12px 16px;
            color: white;
            cursor: pointer;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .item:last-child {
            border-bottom: none;
        }

        .item:hover {
            background-color: #2c4a7a; /* slightly lighter blue */
        }

    </style>
</header>
</body>
</html>
